---
title: `data-атрибуты`
description: "Пользовательские атрибуты, которые позволяют хранить полезную информацию в HTML-элементах, стилизовать их при помощи CSS, а также обращаться к ним из JS"
authors:
  - KrAnatoly
related:
  - js/element-dataset
  - js/dom
  - html/data
tags:
  - doka
---

<!--
1. В description есть описание для соцсетей и поисковиков, не больше 200 символов
2. В authors есть ники авторов основного текста
3. В contributors перечислены ники всех соавторов и тех, кто работал над текстом (дописали "На практике"? Переписали блок? Вам сюда)
4. В keywords записаны ключевые слова для SEO: пишем сюда слова или фразы, которых нет в тексте статьи, но по ним могут искать этот материал
5. Удалены все пустые теги в шапке
6. Подпапка автора есть в папке _people/_
7. Демки лежат в подпапке _demos/_
8. В related добавлено три ссылки на материалы Доки, которые будут предлагаться в конце. Не добавляем следующий или предыдущий материал в разделе
-->

## Как понять

Атрибуты в HTML-элементах используются для различных задач. С их помощью можно: стилизовать элемент, добавить всплывающую подсказку, отделить похожие элементы друг от друга и так далее.
```html
<div class="atribute-div" title="atribute"></div>
```
Бывают случаи, когда существующих атрибутов может быть недостаточно. Нестандартные атрибуты можно использовать для передачи пользовательских данных из HTML в JavaScript, или чтобы "помечать" HTML-элементы для JavaScript. 

Если мы сами создадим какой-либо атрибут, могут возникнуть проблемы — в новых версиях языка HTML такие атрибуты могут появиться в стандарте и выполнять какую-либо функцию. Также не рекомендуется применять существующие атрибуты способами, на которые они не рассчитаны. Да, иногда, кроме подчеркивания линтером, негативных последствий может и не быть, но, согласитесь, и это довольно неприятно.

Однако, выход есть — в HTML5 появились `data-атрибуты`. Они всегда начинаются с префикса `data-`(что в переводе означает "данные"). Также их называют атрибутами `data-*`.
Синтаксис довольно прост: после слова "data" идет тире "-", после тире - оставшаяся часть атрибута на усмотрение разработчика.

## Как пишется

```html
<div class="attribute-div" title="attribute" data-size="small"></div>
```
В данном примере использован атрибут `data-size` со значением `small`. Также можно создавать атрибуты без значения, например:
```html
<div data-small></div>
```
При необходимости, можно задавать и длинные названия атрибутов:
```html
<div data-long-size-atribute="small"></div>
```

## Делать не рекомендуется

Про атрибут просто с именем `data` написано выше — он не относится к `data-атрибутам`, это обычный кастомный атрибут, который использовать не рекомендуется.
```html
<div data="noDataAtribute"></div>
```
Также, не стоит хранить в дата-атрибутах данные, которые должны быть видимы и доступны для вспомогательной техники (assistive technology). К тому же, эти данные не индексируют поисковые роботы.

## Стилизация HTML-элементов в CSS

С помощью `data-атрибутов` можно стилизовать HTML-элементы. Для стилизации в CSS обычно используются классы, но атрибуты `data-*` позволяют выбирать HTML-элементы не только основываясь на классе (есть или нет указанный класс), но и основываясь на значении атрибута, которое он имеет на том же уровне специфичности.

Можно выбрать элементы, у которых есть нужный нам атрибут:
```css
[data-length] {}
```
Элементы, у которых атрибут имеет заданное значение:
```css
[data-age= "46"] {}
```
Элементы со значениями атрибута, которые содержат, например, "6", и те, куда входит это значение ( "6,88" и т.д.):
```css
[data-id^ = "6"] {}
```
Элементы, где заданная строка содержится где-то в значении свойства:
```css
[data-format* = "string"] {}
```
Если при выборе селектора указать символ `i`, можно получить элементы с атрибутами, значения которых не чувствительны к регистру:
```css
[data-size= "medium" i] {}
```
Он выберет все следующие элементы:
```html
<div data-size = "medium"></div>
<div data-size = "MEDIUM"></div>
<div data-size = "Medium"></div>
```
С помощью CSS можно извлечь значение дата-атрибута и вывести его на страницу:
```html
<div data-symbol= "〷◠‿◠〷"></div>
```
```css
[data-symbol]::before{
  content: attr(data-symbol) /* Вернет „〷◠‿◠〷"*/
}
```
## Работа с data-атрибутами в JavaScript

У `data-атрибутов` есть свой собственный API. Читать и записывать значения `дата-атрибутов` элемента можно с помощью свойства `dataset`. С его помощью можно также и добавлять новые  `дата-атрибуты` к элементу.

Более подробно можно прочитать в этой [статье](/js/element-dataset/).

Можно обращаться к значениям атрибутов `data-*` также, как и к значениям других атрибутов: при помощи методов `getAttribute` и `setAttribute` для чтения и записи данных соответственно.

Прочитать значение атрибута:
```js
let attrValue = element.getAttribute('data-episode')
```
Записать новое значение "4" атрибута `data-episode`:
```js
element.setAttribute('data-episode', '4')
```

## Ограничения и краткий вывод

Internet Explorer 11+ поддерживает оба стандарта работы с `data-атрибутами`, IE 10 и ниже может работать с ними только через `getAttribute`/`setAttribute`.

Производительность чтения data-атрибутов по сравнению с хранением этих данных в хранилищах данных JavaScript намного хуже, использование `dataset` еще медленнее, чем чтение данных с помощью getAttribute. 

Для пользовательских метаданных, которые связаны с элементами, `data-атрибуты` это отличное решение. На практике часто можно увидеть применение `data-атрибутов` в автоматизированном тестировании. Стандартным для многих тестовых фреймворков является атрибут `data-testid`.